"use strict";function getCookie(e){for(var o=e+"=",a=decodeURIComponent(document.cookie),n=a.split(";"),t=0;t<n.length;t++){for(var i=n[t];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(o))return i.substring(o.length,i.length)}return""}function setCookie(e,o,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var t="expires="+n.toUTCString();document.cookie=e+"="+o+";"+t+";path=/"}function updatePointers(e,o,a,n,t,i,s,r){function b(e){function t(e,o,a,n,t,i,s,r){updatePointers(e,o,a,n,t,i,s,r)}var o=0,a=null,n=[];m.forEach(function(e){var t=document.getElementById(e.anchor),i=document.getElementById(e.alt),s=!1;(null===i||"undefined"==typeof i)&&(s=!0,i=document.getElementById("page-foot"));var r=60*(o++ +.85)-10;document.getElementById(m[0].alt).getBoundingClientRect().top<r?_scrolledPast=!0:(_scrolledPast=!1,startedScrollingAboveThing=!0);var l=_scrolledPast?document.getElementById(e.alt):document.getElementById(u),v=getOffset(l);_scrolledPast?(v.x+=l.offsetWidth,v.y+=l.offsetHeight):(v.x+=l.offsetWidth*e.x,v.y+=l.offsetHeight*e.y),document.getElementById(e.alt).getBoundingClientRect().top<250&&(a=t);var k=getOffset(t);k.y+=t.offsetHeight;var d=k.x-v.x,c=k.y-v.y;n.push({key:e.anchor,dx:d,dy:c,parent:t,parentWidth:t.offsetWidth,parentHeight:t.offsetHeight/2,disableUnlessPerformant:_scrolledPast})}),requestAnimationFrame(function(){t(n,20,20,window.scrollY,document.getElementById("figura").offsetHeight,300,a,!_stopLines)})}var l=performance.now()-then;if(128>l){performanceAverageator+=l,performanceTempString=l+","+performanceTempString,then=performance.now(),performanceFinal=performanceAverageator/++performanceCountator,then=performance.now();var v=document.getElementById("first-heading")||document.getElementsByTagName("h2")[0],k=v.getBoundingClientRect().top;document.getElementById("main-menu-padding-container").getBoundingClientRect().top<50?document.body.classList.add("scrolled-past-menu"):document.body.classList.remove("scrolled-past-menu"),250>k?performanceFinal>50&&(_scrolledPast||performanceCountator>6)&&document.body.classList.add("no-lines"):(startedScrollingAboveThing&&(5>performanceCountator||performanceFinal>80)&&_scrolledPast&&document.body.classList.add("transparent-lines"),performanceFinal>60&&performanceCountator>24&&(setCookie("COOKIE_SLOW_DEVICE","TRUE"),_removeLines=!0)),e.forEach(function(e,l,v){var u,d,c,p,m=e;u=m.dx,d=m.dy,c=m.parent,p="point_"+m.key,m.parent.classList&&(m.parent!==s?m.parent.classList.remove("current-link"):m.parent.classList.add("current-link")),r&&rightAngledLines(m.parent,m.dx,m.dy,p,o,a,m.parentHeight,m.parentWidth,n,t,i,k,m.disableUnlessPerformant|_removeLines)}),_degree=0,_wasPositive=0}var m=[{anchor:"harmonogram-link",alt:"harmonogram",x:.58,y:.09},{anchor:"o-akci-link",alt:"o-akci",x:.56,y:.32,hoverEffect:"#heart"},{anchor:"kontakt-link",alt:"kontakt",x:.16,y:.56},{anchor:"cesta-link",alt:"cesta",x:.36,y:.92}];m.sort(function(e,o){return e.alt.offsetTop-o.alt.offsetTop});var u="figura";document.getElementById("pointed-to"),window.scrollY;window.addEventListener("DOMContentLoaded",function(){var e=getCookie("COOKIE_SLOW_DEVICE");"TRUE"===e&&(_stopLines=!0,document.body.classList.add("no-lines")),b()}),document.body.addEventListener("DOMContentLoaded",function(){b()}),window.addEventListener("load",function(){b()}),window.addEventListener("resize",b,{passive:!0});window.addEventListener("scroll",b,{passive:!0}),window.addEventListener("mousewheel",b,{passive:!0}),window.addEventListener("onmousewheel",b,{passive:!0}),window.addEventListener("touchmove",b,{passive:!0})}document.body.classList.remove("scrolled-past-menu"),document.body.classList.remove("noscript");var fps=0,then=0,_stopLines=!1,_removeLines=!1,startedScrollingAboveThing=!1,deviceFPSCounter=document.createElement("div"),performanceAverageator=0,performanceCountator=0,_recentlyFired=!1,performantDevice=!0,ua=navigator.userAgent.toLowerCase();console.log("User Agent",ua),-1!=ua.indexOf("safari")&&(ua.indexOf("chrome")>-1||(_removeLines=!0,_stopLines=!0,document.body.classList.add("no-lines")));var _degree=0,_wasPositive=0,rightAngledLines=function(e,o,a,n,t,i,s,r,l,v,k,m,u){var d,c,p,h,j=(v-l)/12+i;if(k>m&&(j=Math.max(v/6+(i-l)/6,25)),j=25,document.getElementById(n))d=document.getElementById(n),c=document.getElementById(n+"_ab"),p=document.getElementById(n+"_bc"),h=document.getElementById(n+"_cd"),d.classList.add("animate-transform");else{d=document.createElement("div"),c=document.createElement("div"),p=document.createElement("div"),h=document.createElement("div"),d.setAttribute("id",n),c.setAttribute("id",n+"_ab"),p.setAttribute("id",n+"_bc"),h.setAttribute("id",n+"_cd");Math.sqrt(o*o+a*a);d.style.position="absolute",d.style.top="-2px",d.style.left="0px",[c,p,h].map(function(e){d.appendChild(e),e.style.position="absolute",e.setAttribute("class","overlay-line line-horizontal")})}if(u)d.style.display="none",_removeLines&&(d.parentNode.removeChild(d),_stopLines=!0);else{var y,b=20;0>=a?y=(pointersRef.length+_wasPositive-_degree++)*b:(y=(pointersRef.length+_degree++)*b,_wasPositive++),y=Math.min(y,o);var f=3;e.appendChild(d),p.style.width="100px",c.style.width=j+y+f+"px",c.style.top=s+"px",p.style.top=Math.min(s-a,s)+1+"px",h.style.top=s-a+"px",p.style.height=Math.abs(a)+f-1+"px",p.style.width="0px",p.setAttribute("class","overlay-line line-vertical"),r=0,c.style.right=r+0+"px",p.style.right=r+j+y+"px",h.style.right=r+j+y+1+"px",h.style.width=Math.abs(o-(r+j+y))+"px",d.style.display="block"}},globalRotations={},_scrolledPast=!1,getOffset=function(e){var o={x:0,y:0};if("undefined"==typeof window.scrollY||"undefined"==typeof e.getBoundingClientRect())throw new browserIsJankException;return o.x=e.getBoundingClientRect().left+window.scrollX,o.y=e.getBoundingClientRect().top+window.scrollY,o},performanceTempString="",performanceAverageator=0,performanceFinal=0;makeDistantRelative(document.querySelector("#o-akci-link"),document.querySelector("#heart"),"hovered");