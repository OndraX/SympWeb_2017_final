"use strict";function getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),o=n.split(";"),r=0;r<o.length;r++){for(var i=o[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function setCookie(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var r="expires="+o.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}function updatePointers(e,t,n,o,r,i,a){performance.now()-then<128&&(performanceAverageator+=performance.now()-then,then=performance.now(),performanceAverageator/=++performanceCountator,console.log("Time difference in scrolling[ms]",performance.now() - then,performanceAverageator,performanceCountator)),then=performance.now();var l=document.getElementById("first-heading")||document.getElementsByTagName("h2")[0],d=l.getBoundingClientRect().top;document.getElementById("main-menu-padding-container").getBoundingClientRect().top<50?document.body.classList.add("scrolled-past-menu"):document.body.classList.remove("scrolled-past-menu"),250>d&&performanceAverageator>50&&console.log("BEEP BEEP! You appear to have a really awfully slow device.",performanceAverageator,performanceCountator),e.forEach(function(e,l,s){var c,p,u,f,m=e;c=m.dx,p=m.dy,u=m.parent,f="point_"+m.key;m.disableUnlessPerformant;m.parent.classList&&(m.parent!==a?m.parent.classList.remove("current-link"):m.parent.classList.add("current-link")),rightAngledLines(m.parent,m.dx,m.dy,f,t,n,m.parentHeight,m.parentWidth,o,r,i,d)})}function handleScroll(e){function t(e,t,n,o,r,i,a){updatePointers(e,t,n,o,r,i,a)}var n=0,o=null,r=[],i=_top;_top=window.scrollY,i!=_top&&(_scrolledPast=!1,pointersRef.forEach(function(e){var t=document.getElementById(e.anchor),i=document.getElementById(e.alt),a=!1;(null===i||"undefined"==typeof i)&&(a=!0,i=document.getElementById("page-foot"));var l=200*(n++ +.85);_scrolledPast=document.getElementById(pointersRef[0].alt).getBoundingClientRect().top<l?!0:!1;var d=_scrolledPast?document.getElementById(e.alt):document.getElementById(constPointedTo),s=getOffset(d);_scrolledPast?(s.x+=d.offsetWidth,s.y+=d.offsetHeight/2):(s.x+=d.offsetWidth*e.x,s.y+=d.offsetHeight*e.y),document.getElementById(e.alt).getBoundingClientRect().top<250&&(o=t);var c=getOffset(t);c.y+=t.offsetHeight;var p=c.x-s.x,u=c.y-s.y;r.push({key:e.anchor,dx:p,dy:u,parent:t,parentWidth:t.offsetWidth,parentHeight:t.offsetHeight/2,disableUnlessPerformant:_scrolledPast})}),requestAnimationFrame(function(){t(r,60,60,window.scrollY,document.getElementById("figura").offsetHeight,300,o)}))}function browserIsJankException(){return 0}var fps=0,then=0,deviceFPSCounter=document.createElement("div");document.body.appendChild(deviceFPSCounter),deviceFPSCounter.style.position="fixed",deviceFPSCounter.style.top="0px",deviceFPSCounter.style.left="0px",deviceFPSCounter.innerHTML="&nbsp;",deviceFPSCounter.style.fontSize="36px";var performanceAverageator=0,performanceCountator=0,_recentlyFired=!1,performantDevice=!0,_degree=0,_wasPositive=0,rightAngledLines=function(e,t,n,o,r,i,a,l,d,s,c,p){var u,f,m,g,h=(s-d)/12+i;if(c>p&&(h=35/*Math.max(s/6+(i-d)/6,35)*/),document.getElementById(o))u=document.getElementById(o),f=document.getElementById(o+"_ab"),m=document.getElementById(o+"_bc"),g=document.getElementById(o+"_cd"),u.classList.add("animate-transform");else{u=document.createElement("div"),f=document.createElement("div"),m=document.createElement("div"),g=document.createElement("div"),u.setAttribute("id",o),f.setAttribute("id",o+"_ab"),m.setAttribute("id",o+"_bc"),g.setAttribute("id",o+"_cd");Math.sqrt(t*t+n*n);u.style.position="absolute",u.style.top="-2px",u.style.left="0px",[f,m,g].map(function(e){u.appendChild(e),e.style.position="absolute",e.setAttribute("class","overlay-line line-horizontal")})}var y,v=20;0>=n?y=(pointersRef.length+_wasPositive-_degree++)*v:(y=(pointersRef.length+_degree++)*v,_wasPositive++),_degree>=pointersRef.length&&(_degree=0,_wasPositive=0);var w=3;e.appendChild(u),m.style.width="100px",f.style.width=h+y+w+"px",f.style.top=a+"px",m.style.top=Math.min(a-n,a)+1+"px",g.style.top=a-n+"px",m.style.height=Math.abs(n)+w-1+"px",m.style.width="0px",m.setAttribute("class","overlay-line line-vertical"),l=0,f.style.right=l+0+"px",m.style.right=l+h+y+"px",g.style.right=l+h+y+1+"px",g.style.width=.6*(t-(l+h+y))+"px"},globalRotations={},_scrolledPast=!1,getOffset=function(e){var t={x:0,y:0};if("undefined"==typeof window.scrollY||"undefined"==typeof e.getBoundingClientRect())throw new browserIsJankException;return t.x=e.getBoundingClientRect().left+window.scrollX,t.y=e.getBoundingClientRect().top+window.scrollY,t},pointersRef=[{anchor:"o-akci-link",alt:"o-akci",x:.32,y:.3},{anchor:"kontakt-link",alt:"kontakt",x:.395,y:.5},{anchor:"cesta-link",alt:"cesta",x:.36,y:.92}];pointersRef.sort(function(e,t){return e.alt.offsetTop-t.alt.offsetTop});var constPointedTo="figura",pointee=document.getElementById("pointed-to"),selector="",_objects={},bindings=[],_top=window.scrollY,wheelJaggednessTimer;window.addEventListener("scroll",handleScroll),window.addEventListener("mousewheel",handleScroll),window.addEventListener("onmousewheel",handleScroll),window.addEventListener("touchmove",handleScroll),window.addEventListener("resize",handleScroll),window.addEventListener("load",handleScroll);
