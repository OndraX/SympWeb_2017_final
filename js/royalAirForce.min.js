"use strict"
function getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),o=n.split(";"),r=0;r<o.length;r++){var a=o[r]
for(console.log("cookie:",a);" "==a.charAt(0);)a=a.substring(1)
if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function setCookie(e,t,n){var o=new Date
o.setTime(o.getTime()+24*n*60*60*1e3)
var r="expires="+o.toUTCString()
document.cookie=e+"="+t+";"+r+";path=/"}function updatePointers(e,t,n,o,r,a,i,l){var s=performance.now()-then
s<128&&(performanceAverageator+=s,performanceTempString=s+","+performanceTempString,console.log("s: ",performanceTempString),then=performance.now(),performanceFinal=performanceAverageator/++performanceCountator,console.log("Time difference in scrolling: f:",performanceFinal,", a:",performanceAverageator,", c:",performanceCountator)),then=performance.now()
var d=document.getElementById("first-heading")||document.getElementsByTagName("h2")[0],c=d.getBoundingClientRect().top
document.getElementById("main-menu-padding-container").getBoundingClientRect().top<50?document.body.classList.add("scrolled-past-menu"):document.body.classList.remove("scrolled-past-menu"),c<250?performanceFinal>50&&(console.log("BEEP BEEP! You appear to have a really awfully slow device.",performanceAverageator,performanceCountator),(_scrolledPast||performanceCountator>6)&&document.body.classList.add("no-lines")):(startedScrollingAboveThing&&(performanceCountator<5||performanceFinal>80)&&_scrolledPast&&document.body.classList.add("transparent-lines"),performanceFinal>60&&performanceCountator>24&&(setCookie("COOKIE_SLOW_DEVICE","TRUE"),_removeLines=!0,console.log(""))),e.forEach(function(e,s,d){var m,u=e
u.dx,u.dy,u.parent,m="point_"+u.key,u.parent.classList&&(u.parent!==i?u.parent.classList.remove("current-link"):u.parent.classList.add("current-link")),l&&rightAngledLines(u.parent,u.dx,u.dy,m,t,n,u.parentHeight,u.parentWidth,o,r,a,c,u.disableUnlessPerformant|_removeLines)}),_degree=0,_wasPositive=0}function handleScroll(e){function t(e,t,n,o,r,a,i,l){updatePointers(e,t,n,o,r,a,i,l)}var n=0,o=null,r=[]
pointersRef.forEach(function(e){var t=document.getElementById(e.anchor),a=document.getElementById(e.alt)
null!==a&&void 0!==a||(a=document.getElementById("page-foot"))
var i=60*(.85+n++)-10
document.getElementById(pointersRef[0].alt).getBoundingClientRect().top<i?_scrolledPast=!0:(_scrolledPast=!1,startedScrollingAboveThing=!0)
var l=_scrolledPast?document.getElementById(e.alt):document.getElementById(constPointedTo),s=getOffset(l)
_scrolledPast?(s.x+=l.offsetWidth,s.y+=l.offsetHeight):(s.x+=l.offsetWidth*e.x,s.y+=l.offsetHeight*e.y),document.getElementById(e.alt).getBoundingClientRect().top<250&&(o=t)
var d=getOffset(t)
d.y+=t.offsetHeight
var c=d.x-s.x,m=d.y-s.y
r.push({key:e.anchor,dx:c,dy:m,parent:t,parentWidth:t.offsetWidth,parentHeight:t.offsetHeight/2,disableUnlessPerformant:_scrolledPast})}),requestAnimationFrame(function(){t(r,20,20,window.scrollY,document.getElementById("figura").offsetHeight,300,o,!_stopLines)})}function browserIsJankException(){return 0}function makeDistantRelative(e,t,n){e.addEventListener("mouseover",function(){t.classList.add(n)}),e.addEventListener("mouseout",function(){t.classList.remove(n)})}document.body.classList.remove("scrolled-past-menu"),document.body.classList.remove("noscript")
var fps=0,then=0,_stopLines=!1,_removeLines=!1,startedScrollingAboveThing=!1,deviceFPSCounter=document.createElement("div")
document.body.appendChild(deviceFPSCounter),deviceFPSCounter.style.position="fixed",deviceFPSCounter.style.top="0px",deviceFPSCounter.style.left="0px",deviceFPSCounter.innerHTML="&nbsp;",deviceFPSCounter.style.fontSize="36px"
var performanceAverageator=0,performanceCountator=0,_recentlyFired=!1,performantDevice=!0,_degree=0,_wasPositive=0,rightAngledLines=function(e,t,n,o,r,a,i,l,s,d,c,m,u){var p,f,g,v,h=(d-s)/12+a
if(m<c&&(h=Math.max(d/6+(a-s)/6,25)),h=25,document.getElementById(o))p=document.getElementById(o),f=document.getElementById(o+"_ab"),g=document.getElementById(o+"_bc"),v=document.getElementById(o+"_cd"),p.classList.add("animate-transform")
else{p=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),v=document.createElement("div"),p.setAttribute("id",o),f.setAttribute("id",o+"_ab"),g.setAttribute("id",o+"_bc"),v.setAttribute("id",o+"_cd")
Math.sqrt(t*t+n*n)
p.style.position="absolute",p.style.top="-2px",p.style.left="0px",[f,g,v].map(function(e){p.appendChild(e),e.style.position="absolute",e.setAttribute("class","overlay-line line-horizontal")})}if(u)p.style.display="none",_removeLines&&(p.parentNode.removeChild(p),_stopLines=!0)
else{var y
n<=0?y=20*(pointersRef.length+_wasPositive-_degree++):(y=20*(pointersRef.length+_degree++),_wasPositive++),y=Math.min(y,t)
e.appendChild(p),g.style.width="100px",f.style.width=h+y+3+"px",f.style.top=i+"px",g.style.top=Math.min(i-n,i)+1+"px",v.style.top=i-n+"px",g.style.height=Math.abs(n)+3-1+"px",g.style.width="0px",g.setAttribute("class","overlay-line line-vertical"),l=0,f.style.right=l+0+"px",g.style.right=l+h+y+"px",v.style.right=l+h+y+1+"px",v.style.width=Math.abs(t-(l+h+y))+"px",p.style.display="block"}},globalRotations={},_scrolledPast=!1,getOffset=function(e){var t={x:0,y:0}
if(void 0===window.scrollY||void 0===e.getBoundingClientRect())throw new browserIsJankException
return t.x=e.getBoundingClientRect().left+window.scrollX,t.y=e.getBoundingClientRect().top+window.scrollY,t},performanceTempString="",performanceAverageator=0,performanceFinal=0,pointersRef=[{anchor:"harmonogram-link",alt:"harmonogram",x:.58,y:.09},{anchor:"o-akci-link",alt:"o-akci",x:.56,y:.32,hoverEffect:"#heart"},{anchor:"kontakt-link",alt:"kontakt",x:.16,y:.56},{anchor:"cesta-link",alt:"cesta",x:.36,y:.92}]
pointersRef.sort(function(e,t){return e.alt.offsetTop-t.alt.offsetTop})
var constPointedTo="figura",pointee=document.getElementById("pointed-to"),selector="",_objects={},bindings=[],_top=window.scrollY,wheelJaggednessTimer
window.addEventListener("DOMContentLoaded",function(){"TRUE"===getCookie("COOKIE_SLOW_DEVICE")&&(_stopLines=!0,document.body.classList.add("no-lines")),console.log("loaded"),handleScroll()}),document.body.addEventListener("DOMContentLoaded",function(){console.log("loaded"),handleScroll()}),window.addEventListener("load",function(){console.log("loaded"),handleScroll()}),window.addEventListener("resize",handleScroll)
var delayedExec=function(e,t){var n
return function(){n&&clearTimeout(n),n=setTimeout(t,e)}}
window.addEventListener("scroll",handleScroll),window.addEventListener("mousewheel",handleScroll),window.addEventListener("onmousewheel",handleScroll),window.addEventListener("touchmove",handleScroll),makeDistantRelative(document.querySelector("#o-akci-link"),document.querySelector("#heart"),"hovered")
